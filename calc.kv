#:kivy
<CalcLayout>:
    orientation: "vertical"
    padding: dp(12)
    spacing: dp(12)

    BoxLayout:
        size_hint_y: None
        height: dp(120)
        canvas.before:
            Color:
                rgba: (0.3, 0.3, 0.3, 1)
            RoundedRectangle:
                pos: self.pos
                size: self.size
                radius: [12,0]
        padding: dp(10)
        Label:
            id: display
            text: root.display
            text_size: self.width - dp(10), None
            halign: "left"
            valign: "center"
            font_size: '36sp'
            shorten: True
            color: (1,1,1,1)

    GridLayout:
        cols: 4
        spacing: dp(8)
        row_default_height: (self.width - dp(3)*8) / 4
        row_force_default: True

        Button:
            text: "C"
            on_release: root.clear()
            font_size: '20sp'
        Button:
            text: "<-"
            on_release: root.backspace()
            font_size: '20sp'
        Button:
            text: "("
            on_release: root.append_text("(")
            font_size: '20sp'
        Button:
            text: ")"
            on_release: root.append_text(")")
            font_size: '20sp'

        Button:
            text: "7"
            on_release: root.append_text("7")
        Button:
            text: "8"
            on_release: root.append_text("8")
        Button:
            text: "9"
            on_release: root.append_text("9")
        Button:
            text: "÷"
            on_release: root.append_text("/")
            font_size: '24sp'

        Button:
            text: "4"
            on_release: root.append_text("4")
        Button:
            text: "5"
            on_release: root.append_text("5")
        Button:
            text: "6"
            on_release: root.append_text("6")
        Button:
            text: "×"
            on_release: root.append_text("*")
            font_size: '24sp'

        Button:
            text: "1"
            on_release: root.append_text("1")
        Button:
            text: "2"
            on_release: root.append_text("2")
        Button:
            text: "3"
            on_release: root.append_text("3")
        Button:
            text: "-"
            on_release: root.append_text("-")
            font_size: '28sp'

        Button:
            text: "."
            on_release: root.append_text(".")
            font_size: '24sp'
        Button:
            text: "0"
            on_release: root.append_text("0")
        Button:
            text: "%"
            on_release: root.append_text("%")
        Button:
            text: "+"
            on_release: root.append_text("+")
            font_size: '28sp'

    BoxLayout:
        size_hint_y: None
        height: dp(70)
        spacing: dp(8)
        Button:
            text: "^"
            on_release: root.append_text("**")
            font_size: '18sp'
        Button:
            text: "±"
            on_release: root.negate()
            font_size: '22sp'
        Button:
            text: "="
            on_release: root.calculate()
            background_normal: ''
            background_color: (0.11, 0.6, 0.95, 1)
            font_size: '22sp'